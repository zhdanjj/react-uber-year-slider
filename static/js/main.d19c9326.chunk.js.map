{"version":3,"sources":["components/Slider.js","App.js","index.js"],"names":["SCALES","OPACITIES","Slider","state","years","range","centeredIndex","sliderWidth","itemWidth","sliderRef","React","createRef","nth","this","sliderEl","current","setState","offsetWidth","querySelector","index","length","sample","Array","fill","map","_","i","offset","Math","abs","centered","nextIndex","min","prevIndex","max","className","ref","style","transform","trackOffset","year","opacity","sampleValues","styles","margin","MARGIN","key","onClick","setCenteredIndex","bind","transforms","slice","reduce","summ","Component","App","ReactDOM","render","document","getElementById"],"mappings":"ihBAGA,IAAMA,EAAS,CAAC,EAAG,WAAY,kBAAmB,kBAAmB,oBAC/DC,EAAY,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAqGvBC,E,YAjGb,aAAe,IAAD,8BACZ,+CACKC,MAAQ,CACXC,MAAOC,IAAM,KAAM,MACnBC,cAAe,EACfC,YAAa,EACbC,UAAW,GAEb,EAAKC,UAAYC,IAAMC,YARX,E,iFA0BZ,IAAMC,EAAMC,KAAKV,MAAMG,cAAgB,EACjCQ,EAAWD,KAAKJ,UAAUM,QAChCF,KAAKG,S,qVAAL,IACKH,KAAKV,MADV,CAEEI,YAAaO,EAASG,YACtBT,UAAWM,EAASI,cAAT,0BAA0CN,EAA1C,MAAkDK,iB,uCAIhDE,GACfN,KAAKG,SAAS,CACZV,cAAea,M,mCAINA,EAAOC,EAAQC,GAC1B,OAAO,IAAIC,MAAMF,GACdG,KAAK,GACLC,IAAI,SAACC,EAAGC,GACP,IAAMC,EAASC,KAAKC,IAAIV,EAAQO,GAChC,OAAOC,EAASN,EAAOD,OACrBC,EAAOM,GACLN,EAAOA,EAAOD,OAAS,O,+BAIvB,IAAD,OACDhB,EAAQS,KAAKV,MAAMC,MACnB0B,EAAWjB,KAAKV,MAAMG,cACtByB,EAAYH,KAAKI,IAAIF,EAAW,EAAG1B,EAAMgB,OAAS,GAClDa,EAAYL,KAAKM,IAAIJ,EAAW,EAAG,GACnCtB,EAAYK,KAAKV,MAAMK,UAE7B,OACE,yBAAK2B,UAAU,SAASC,IAAKvB,KAAKJ,WAChC,yBAAK0B,UAAU,QAAQE,MAAO,CAACC,UAAU,cAAD,OAAgBzB,KAAK0B,YAArB,SAEpCnC,EAAMoB,IAAI,SAACgB,EAAMd,GACf,IAAMI,EAAW,EAAK3B,MAAMG,cAEtBmC,EADY,EAAKC,aAAaZ,EAAU1B,EAAMgB,OAAQnB,GAClCyB,GAEpBY,EADa,EAAKI,aAAaZ,EAAU1B,EAAMgB,OAAQpB,GAChC0B,GACvBiB,EAAS,CACbF,UACAH,UAAU,SAAD,OAAWA,EAAX,KACTM,OAAO,KAAD,OAAOC,IAAcrC,EAAY8B,EAAY9B,GAAa,EAA1D,OAGR,OACE,yBACE2B,UAAU,OACVW,IAAKpB,EACLW,MAAOM,EACPI,QAAS,EAAKC,iBAAiBC,KAAK,EAAMvB,IAEzCc,MAMX,yBAAKL,UAAU,YACb,yBAAKA,UAAU,WAAWY,QAASlC,KAAKmC,iBAAiBC,KAAKpC,KAAMoB,IAApE,KACA,yBAAKE,UAAU,YAAYY,QAASlC,KAAKmC,iBAAiBC,KAAKpC,KAAMkB,IAArE,S,kCA9EN,IAAMxB,EAAcM,KAAKV,MAAMI,YACzBC,EAAYK,KAAKV,MAAMK,UACvBsB,EAAWjB,KAAKV,MAAMG,cACtB4C,EAAarC,KAAK6B,aACtBZ,EACAjB,KAAKV,MAAMC,MAAMgB,OACjBpB,GAEF,OAAQO,EAAc,EAAIC,EAAY,EAAIqC,GAAcK,EAAWC,MAAM,EAAGrB,GAAUsB,OAAO,SAACC,EAAMtC,GAClG,OAAOsC,EAAOtC,EAAUP,EAxBf,IAyBR,O,GAvBcE,IAAM4C,W,MCCZC,MAJf,WACE,OAAO,kBAAC,EAAD,OCATC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.d19c9326.chunk.js","sourcesContent":["import React from 'react'\nimport range from 'lodash/range'\n\nconst SCALES = [1, .668998984, .4888403205746039, .3602607087370237, .23162447888007007]\nconst OPACITIES = [1, .5, .4, .3, .2, .1]\nconst MARGIN = 40\n\nclass Slider extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      years: range(1999, 2019),\n      centeredIndex: 0,\n      sliderWidth: 0,\n      itemWidth: 0,\n    }\n    this.sliderRef = React.createRef()\n  }\n\n  get trackOffset() {\n    const sliderWidth = this.state.sliderWidth\n    const itemWidth = this.state.itemWidth\n    const centered = this.state.centeredIndex\n    const transforms = this.sampleValues(\n      centered,\n      this.state.years.length,\n      SCALES\n    )\n    return (sliderWidth / 2 - itemWidth / 2 - MARGIN / 2) - transforms.slice(0, centered).reduce((summ, current) => {\n      return summ + current * itemWidth + MARGIN\n    }, 0)\n  }\n\n  componentDidMount() {\n    const nth = this.state.centeredIndex + 1\n    const sliderEl = this.sliderRef.current\n    this.setState({\n      ...this.state,\n      sliderWidth: sliderEl.offsetWidth,\n      itemWidth: sliderEl.querySelector(`.item:nth-child(${nth})`).offsetWidth,\n    })\n  }\n\n  setCenteredIndex(index) {\n    this.setState({\n      centeredIndex: index\n    })\n  }\n\n  sampleValues(index, length, sample) {\n    return new Array(length)\n      .fill(0)\n      .map((_, i) => {\n        const offset = Math.abs(index - i)\n        return offset < sample.length ?\n          sample[offset] \n          : sample[sample.length - 1]\n      })\n  }\n\n  render() {\n    const years = this.state.years\n    const centered = this.state.centeredIndex\n    const nextIndex = Math.min(centered + 1, years.length - 1)\n    const prevIndex = Math.max(centered - 1, 0)\n    const itemWidth = this.state.itemWidth\n\n    return (\n      <div className=\"slider\" ref={this.sliderRef}>\n        <div className=\"track\" style={{transform: `translateX(${this.trackOffset}px)`}}>\n          {\n            years.map((year, i) => {\n              const centered = this.state.centeredIndex\n              const opacities = this.sampleValues(centered, years.length, OPACITIES)\n              const opacity = opacities[i]\n              const transforms = this.sampleValues(centered, years.length, SCALES)\n              const transform = transforms[i]\n              const styles = {\n                opacity,\n                transform: `scale(${transform})`,\n                margin: `0 ${MARGIN / 2 + (itemWidth * transform - itemWidth) / 2}px`,\n              }\n\n              return (\n                <div\n                  className=\"item\"\n                  key={i}\n                  style={styles}\n                  onClick={this.setCenteredIndex.bind(this, i)}\n                >\n                  {year}\n                </div>\n              )\n            })\n          }\n        </div>\n        <div className=\"controls\">\n          <div className=\"btn left\" onClick={this.setCenteredIndex.bind(this, prevIndex)}>&lt;</div>\n          <div className=\"btn right\" onClick={this.setCenteredIndex.bind(this, nextIndex)}>&gt;</div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Slider;\n","import React from 'react'\nimport Slider from './components/Slider.js'\nimport './App.css'\n\nfunction App() {\n  return <Slider/>\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}